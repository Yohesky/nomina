<section class="row mt-5">

    <div class="col">
        <div *ngIf="employees; else spinner">
          <table class="table table-hover table-dark" id="data">
            <thead>
              <tr>
                  <th scope="col">#</th>
                  <th scope="col">Nombre</th>
                  <th scope="col">Apellido</th>
                  <th scope="col">Cedula</th>
                  <th scope="col">Cargo</th>
                  <th scope="col">Fecha Ingreso</th>
                  <th scope="col">Salario</th>
                  <th scope="col">Quincena</th>
                  <th scope="col">&nbsp;</th>
                  <th scope="col">&nbsp;</th>
                  <th scope="col">&nbsp;</th>
              </tr>
              
          </thead>
            <tbody >
              <tr *ngFor="let employee of employees | paginate: {itemsPerPage: 7, currentPage: p}; let i = index" >
                <th scope="row"> {{i+1}} </th>
                <td class="employee">{{employee.name}}</td>
                <td class="employee">{{employee.secondName}}</td>
                <td class="employee">{{employee.ci}}</td>
                <td class="employee">{{employee.companyPosition}}</td>
                <td class="employee">{{employee.dateInsert}}</td>
                <td class="employee">{{employee.salary}}</td>
                <td class="employee">{{employee.pay}}</td>

                <td>
                  <button class="btn btn-info" (click)="updatingPay(employee._id, employee)">Actualizar Pago</button>
                </td>
        
                <td>
                    <button class="btn btn-danger" (click)="delete(employee._id)">Eliminar</button>
                </td>
        
                <td>
                    <button class="btn btn-success" (click)="ver(employee._id)">Ver Empleado</button>
                </td>
              </tr>
              
            </tbody>
        </table>
        <button class="btn btn-primary"> Total a pagar: {{sum}} Bss </button>
        <button class="btn info" (click)="downloadPDF()">Imprimir nomina</button>
        </div>

        <ng-template #spinner> 
          <div class="d-flex justify-content-center">
            <div class="spinner-border" role="status">
              <span class="sr-only text-dark">Cargando...</span>
            </div>
          </div>
        </ng-template>
    </div>
    <pagination-controls class="mt-3" (pageChange)="p = $event"></pagination-controls>
</section>